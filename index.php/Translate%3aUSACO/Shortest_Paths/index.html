<!DOCTYPE html>
<html lang="zh-cn" dir="ltr" class="client-nojs">
<head>
<title>Translate:USACO/Shortest Paths - NOCOW</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.18.1" />
<link rel="alternate" type="application/x-wiki" title="编辑" href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit" />
<link rel="edit" title="编辑" href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="NOCOW (zh-cn)" />
<link rel="EditURI" type="application/rsd+xml" href="http://www.nocow.cn/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="NOCOW的Atom" href="/index.php?title=%E7%89%B9%E6%AE%8A:%E6%9C%80%E8%BF%91%E6%9B%B4%E6%94%B9&amp;feed=atom" />
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=zh-cn&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/skins/monobook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=zh-cn&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: newnocow:resourceloader:filter:minify-css:4:c88e2bcd56513749bec09a7e29cb3ffa */
</style>
<script src="/load.php?debug=false&amp;lang=zh-cn&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "Translate", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 102, "wgPageName": "Translate:USACO/Shortest_Paths", "wgTitle": "USACO/Shortest Paths", "wgCurRevisionId": 30573, "wgArticleId": 5318, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-102 ns-subject page-Translate_USACO_Shortest_Paths action-view skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	<div id="siteNotice"><div id="localNotice" lang="zh-cn" dir="ltr"><p>为防止广告，目前nocow只有登录用户能够创建新页面。如要创建页面请先<a href="/index.php/%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95" title="特殊:用户登录">登录/注册</a>（新用户需要等待1个小时才能正常使用该功能）。
</p></div></div>
	<h1 id="firstHeading" class="firstHeading">Translate:USACO/Shortest Paths</h1>
	<div id="bodyContent">
		<div id="siteSub">来自NOCOW</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="/index.php/Translate:USACO" title="Translate:USACO">Translate:USACO</a></span></div>
		<div id="jump-to-nav">跳转到： <a href="#column-one">导航</a>, <a href="#searchInput">搜索</a></div>
		<!-- start content -->
<div lang="zh-cn" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>目录</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E6.9C.80.E7.9F.AD.E8.B7.AF"><span class="tocnumber">1</span> <span class="toctext">最短路</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.E4.BE.8B.E9.A2.98.EF.BC.9A.E7.A9.BF.E8.B6.8A.E8.BF.B7.E5.AE.AB_.5BKolstad_.26_Schrijvers.2C_USACO_1999.E6.98.A5.E5.AD.A3.E5.85.AC.E5.BC.80.E8.B5.9B.5D"><span class="tocnumber">1.1</span> <span class="toctext">例题：穿越迷宫 [Kolstad &amp; Schrijvers, USACO 1999春季公开赛]</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#.E6.8A.BD.E8.B1.A1.E5.8C.96"><span class="tocnumber">1.2</span> <span class="toctext">抽象化</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Dijkstra_.E7.AE.97.E6.B3.95.E7.94.A8.E4.BB.A5.E5.9C.A8.E6.9C.89.E6.9D.83.E5.9B.BE.E4.B8.AD.E6.89.BE.E6.9C.80.E7.9F.AD.E8.B7.AF"><span class="tocnumber">1.3</span> <span class="toctext">Dijkstra 算法用以在有权图中找最短路</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.E7.AE.97.E6.B3.95.E6.89.A7.E8.A1.8C.E4.B8.BE.E4.BE.8B"><span class="tocnumber">1.4</span> <span class="toctext">算法执行举例</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.E4.BE.8B.E9.A2.98.EF.BC.9A.E9.82.AE.E9.80.92.E5.8C.85.E8.A3.B9"><span class="tocnumber">1.5</span> <span class="toctext">例题：邮递包裹</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.E6.8B.93.E5.B1.95.EF.BC.9A.E5.85.A8.E6.BA.90.E6.9C.80.E7.9F.AD.E8.B7.AF"><span class="tocnumber">1.6</span> <span class="toctext">拓展：全源最短路</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Floyd-Warshall_.E7.AE.97.E6.B3.95"><span class="tocnumber">1.7</span> <span class="toctext">Floyd-Warshall 算法</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.E9.97.AE.E9.A2.98.E7.B6.AB.E7.B4.A2"><span class="tocnumber">1.8</span> <span class="toctext">问题綫索</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#.E6.8B.93.E5.B1.95"><span class="tocnumber">1.9</span> <span class="toctext">拓展</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#.E4.BE.8B.E9.A2.98"><span class="tocnumber">1.10</span> <span class="toctext">例题</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#.E5.9B.BE.E7.9A.84.E7.9B.B4.E5.BE.84"><span class="tocnumber">1.10.1</span> <span class="toctext">图的直径</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#.E9.AA.91.E5.A3.AB.E5.B7.A1.E6.B8.B8"><span class="tocnumber">1.10.2</span> <span class="toctext">骑士巡游</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#.E5.A5.87.E5.BC.82.E7.A9.80.E4.BB.93_.28.E7.AE.80.E8.BF.B0.29_.5BUSACO_.E5.BE.AA.E7.8E.AF.E8.B5.9B_1996.5D"><span class="tocnumber">1.10.3</span> <span class="toctext">奇异穀仓 (简述) [USACO 循环赛 1996]</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#.E9.93.81.E8.B7.AF.E8.B7.AF.E7.BA.BF_.28.E7.AE.80.E8.BF.B0.29_.5BUSACO_.E8.AE.AD.E7.BB.83.E8.B5.9B_1997.2C_.E8.B5.9B_1.5D"><span class="tocnumber">1.10.4</span> <span class="toctext">铁路路线 (简述) [USACO 训练赛 1997, 赛 1]</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</td></tr></table>
<h1><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=1" title="编辑段落：最短路">编辑</a>]</span> <span class="mw-headline" id=".E6.9C.80.E7.9F.AD.E8.B7.AF"> 最短路 </span></h1>
<p>翻译：王者自由
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=2" title="编辑段落：例题：穿越迷宫 [Kolstad &amp; Schrijvers, USACO 1999春季公开赛]">编辑</a>]</span> <span class="mw-headline" id=".E4.BE.8B.E9.A2.98.EF.BC.9A.E7.A9.BF.E8.B6.8A.E8.BF.B7.E5.AE.AB_.5BKolstad_.26_Schrijvers.2C_USACO_1999.E6.98.A5.E5.AD.A3.E5.85.AC.E5.BC.80.E8.B5.9B.5D"> 例题：穿越迷宫 [Kolstad &amp; Schrijvers, USACO 1999春季公开赛] </span></h3>
<p>农夫邛用围栏在田里搭建了一个巨大的迷宫。他在迷宫边界留出了两端栅栏作为「出口」。迷宫是「完美的」，你可以从迷宫里任意点找到走出去的路径。
</p><p>给出迷宫地图，计算从迷宫中「最糟糕」的点走出去所需步数（即使以最优方式走出去也是「最远的」）。
</p><p>这是一个 W=5, H=3 的迷宫：

</p>
<pre>+-+-+-+-+-+
|         |
+-+ +-+ + +
|     | | |
+ +-+-+ + +
| |     |  
+-+ +-+-+-+
</pre>
<p>
</p><p><br />
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=3" title="编辑段落：抽象化">编辑</a>]</span> <span class="mw-headline" id=".E6.8A.BD.E8.B1.A1.E5.8C.96"> 抽象化 </span></h3>
<p>给出：
</p>
<ul><li> 一个以非负权边构成的有向图
</li><li> 两点间路径是以图中相邻边任意连接而成
</li><li> 图中两点间最短路径是指边权总和最小的路径
</li></ul>
<p>题目通常只需要求出最短路代价而非路径本身。例题只要求计算出口和迷宫内一点的最短路代价。不同的是，它要求求出这些代价中的最大值。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=4" title="编辑段落：Dijkstra 算法用以在有权图中找最短路">编辑</a>]</span> <span class="mw-headline" id="Dijkstra_.E7.AE.97.E6.B3.95.E7.94.A8.E4.BB.A5.E5.9C.A8.E6.9C.89.E6.9D.83.E5.9B.BE.E4.B8.AD.E6.89.BE.E6.9C.80.E7.9F.AD.E8.B7.AF"> Dijkstra 算法用以在有权图中找最短路 </span></h3>
<p>给出：所有顶点、边和边权，算法按从近到远的顺序依次「访问」每个顶点。
</p>
<ul><li> 初始，把所有结点的距离设为无穷大，源点为0.
</li><li> 每次，找到距离最短的且未处理过的结点 u 。此点路径现冻结为源点到它的最短距离。
</li><li> 考虑每个 u 的邻点 v 通过 u 到源点的最短路。考察顶点  v 是否优於已知路径，若然，更新最短路信息。
</li></ul>
<p>该算法确定从源点的到指定顶点的最短路径，即图的单源最短路。
</p><p>参考文献：《算法导论》第 25 章
</p><p>伪代码：

</p>
<pre># distance(j) 是从源点到顶点 j 的距离
# parent(j) 是在最短路径中顶点 j 的前趋（用於后期重建路径）
1 For 所有节点 i
2     distance(i) = ∞         	# 当前不可达
3     visited(i) = False
4     parent(i) = nil	        # 顶点无路径
5 distance(source) = 0	 # 源点-&gt;源点 开始於所有路
6 parent(source) = nil
7 while (已访问节点数 &lt; 图大小)
8      找到有最短距离的未访问节点 i
9      assert (distance(i)&#160;!= ∞, "图不连通")
10     visited(i) = True	 # 标记定点 i 已访问
11     # 更新 i 的邻点的距离
12     For 顶点 i 的所有邻点 j
13         if distance(i) + weight(i,j) &lt; distance(j) then
14             distance(j) = distance(i) + weight(i,j)
15             parent(j) = i
</pre>
<p>
</p><p><br />
算法运行时间效率为 <span class="texhtml" dir="ltr"><i>O</i>(<i>V</i><sup>2</sup>)</span> 。你可以用堆来确定下一个访问的顶点以优化到 <span class="texhtml" dir="ltr"><i>O</i>(<i>E</i>log<i>V</i>)</span> （其中 E 是边数，V 是顶点数），但这使程序变得复杂，在稀疏图中提高的效率也并不高。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=5" title="编辑段落：算法执行举例">编辑</a>]</span> <span class="mw-headline" id=".E7.AE.97.E6.B3.95.E6.89.A7.E8.A1.8C.E4.B8.BE.E4.BE.8B"> 算法执行举例 </span></h3>
<p>考虑下面的图，边和权可以用两种方法表示：
{{./pasted_image.bmp}}
</p><p>
</p>
<pre>边	权
(1, 3)	5
(1, 4)	8
(3, 4)	2
(3, 5)	3
(4, 2)	3
(4, 6)	7
(5, 2)	6
(2, 6)	2
</pre>
<p>
</p>
<pre> 	1	2	3	4	5	6
1	0	0	5	8	0	0
2	0	0	0	3	6	2
3	5	0	0	2	3	0
4	8	3	2	0	0	7
5	0	6	3	0	0	0
6	0	2	0	7	0	0
</pre>
<p>这是程序初始状态，用表格表示：
{{./pasted_image001.bmp}}

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	F	∞	nil
3	F	∞	nil
4	F	∞	nil
5	F	∞	nil
6	F	∞	nil
</pre>
<p>
更新表， 节点1的邻点有3和4。

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	F	∞	nil
3	F	[5]	[1]
4	F	[8]	[1]
5	F	∞	nil
6	F	∞	nil
</pre>
<p>
</p><p>节点3是距源点最近的未访问节点（表格第三列是从源点到该点的距离），下一个就访问它：
{{./pasted_image003.bmp}}

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	F	∞	nil
3	[T]	5	1
4	F	8	1
5	F	∞	nil
6	F	∞	nil
</pre>
<p>
节点3的邻点是1, 4和5，更新未访问邻点的域。

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	F	∞	nil
3	T	5	1
4	F	[7]	[3]
5	F	[8]	[3]
6	F	∞	nil
</pre>
<p>
</p><p>节点4成了距源点最近的未访问节点，其邻点有1, 2, 3和6，其中只有2和6需要更新，因为其他点都已经访问过了：
{{./pasted_image004.bmp}}

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	F	[10]	[4]
3	T	5	1
4	[T]	7	3
5	F	8	3
6	F	[14]	[4]
</pre>
<p>
</p><p>剩下的顶点（2, 5和6）中，节点5为距源点最近的未访问节点，应访问它。其邻点有3和2，其中2没有访问过。从2到5的距离是14，长於从4经过的距离10，不予更新。
{{./pasted_image005.bmp}}

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	F	10	4
3	T	5	1
4	T	7	3
5	[T]	8	3
6	F	14	4
</pre>
<p>
</p><p>剩下两个节点中最近的是2，其邻点有4, 5和6，其中6未访问。此外，节点6现在更近，应予更新：
{{./pasted_image006.bmp}}

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	[T]	10	4
3	T	5	1
4	T	7	3
5	T	8	3
6	F	[12]	[2]
</pre>
<p>
</p><p>最后，只有节点6没有访问过了，其所有邻点（覆盖全图）都已访问：
{{./pasted_image007.bmp}}

</p>
<pre>节点	访问	距离	前趋
1	T	0	nil
2	T	10	4
3	T	5	1
4	T	7	3
5	T	8	3
6	[T]	12	2
</pre>
<p>
</p><p><br />
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=6" title="编辑段落：例题：邮递包裹">编辑</a>]</span> <span class="mw-headline" id=".E4.BE.8B.E9.A2.98.EF.BC.9A.E9.82.AE.E9.80.92.E5.8C.85.E8.A3.B9"> 例题：邮递包裹 </span></h3>
<p>给定一个地区集合、各道路长度及邮递目的地的有序列表。找到依次投递所有包裹的最短路长。
</p><p>分析：对於每一次投递，运行 Dijkstra 算法以确定两点间最短路。若投递次数超过 N ，则计算每对顶点之间最短路以替代每次投递最短路，最后只需简单把每次投递路程相加即可。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=7" title="编辑段落：拓展：全源最短路">编辑</a>]</span> <span class="mw-headline" id=".E6.8B.93.E5.B1.95.EF.BC.9A.E5.85.A8.E6.BA.90.E6.9C.80.E7.9F.AD.E8.B7.AF"> 拓展：全源最短路 </span></h3>
<p>题目要求确定一个表格 a，使得：
<span class="texhtml" dir="ltr"><i>a</i><sub><i>i</i>,<i>j</i></sub></span> =  i 和 j 间的最短路长，为∞表示不存在路径。
</p><p>这个问题通常作为某个大问题的子问题出现，比如上面的邮递包裹问题。
</p><p>Dijkstra 算法确定单源最短路的需要 <span class="texhtml" dir="ltr"><i>O</i>(<i>N</i><sup>2</sup>)</span> 的时间。我们可以用 <span class="texhtml" dir="ltr"><i>O</i>(<i>N</i><sup>3</sup>)</span> 的时间对 N 个源执行它。
</p><p>如果不要求输出路径，还有一个 <span class="texhtml" dir="ltr"><i>O</i>(<i>N</i><sup>3</sup>)</span> 的更为简单的算法。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=8" title="编辑段落：Floyd-Warshall 算法">编辑</a>]</span> <span class="mw-headline" id="Floyd-Warshall_.E7.AE.97.E6.B3.95"> Floyd-Warshall 算法 </span></h3>
<p>Floyd-Warshall 算法用於找出每对顶点之间最短距离。它需要用邻接矩阵存储边权，算法通过寻找最佳子路来获得最短路径。
</p>
<ul><li> 注意单边路径不一定最优，但这足矣。
</li><li> 以所有单边路径开始，其两点间距离为边之权，无边则为∞。
</li><li> 对每对顶点 u 和 v ，寻找是否存在顶点 w 使得从 u 通过 w 到 v 的路径短於已知路径，如是更新。
</li><li> 事实如此，只要安排合适，必能得到结果。
</li><li> 欲知其为何如此，参见《算法导论》第 26 章。
</li></ul>
<p>伪代码：

</p>
<pre># dist(i,j) 为从 i 到 j 之「最佳」距离
# 开始於所有单边路径。
For i = 1 to n do
   For j = 1 to n do
       dist(i,j) = weight(i,j)
For k = 1 to n do	 # k 为「中间」顶点
   For i = 1 to n do
       For j = 1 to n do
           if (dist(i,k) + dist(k,j) &lt; dist(i,j)) then	# 更短路？
               dist(i,j) = dist(i,k) + dist(k,j)
</pre>
<p>
</p><p>算法运行时间为 <span class="texhtml" dir="ltr"><i>O</i>(<i>N</i><sup>3</sup>)</span> 。它需要用邻接矩阵存储图。
</p><p>算法正确且易於实现（只有几行）。
</p><p>即使问题是求单源最短路，还是要推荐这个算法，只要时间和空间允许如此即可（实际上，只要空间存得下，时间上就足够）。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=9" title="编辑段落：问题綫索">编辑</a>]</span> <span class="mw-headline" id=".E9.97.AE.E9.A2.98.E7.B6.AB.E7.B4.A2"> 问题綫索 </span></h3>
<p>如果问题要求最佳路径或旅行最少花费，即可用最短路算法解决。即使问题中没有给出图，若问题要求最小代价且状态不多，通常可以构造一个图。关键点是：最短路径 = 搜索做某事中的最小代价。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=10" title="编辑段落：拓展">编辑</a>]</span> <span class="mw-headline" id=".E6.8B.93.E5.B1.95"> 拓展 </span></h3>
<p>如果图不带权，最短路要求含最少边。这种情况只需要宽度优先搜索 (BFS) ，用队列按距源点距离依次访问节点即可。如果图中顶点多而边很少，运行下来会比 Dijkstra 算法要快（见例题奇异穀仓）。
</p><p>如果允许负权边，Dijkstra 就会悲剧。幸运的是，Floyd-Warshall 算法不会在图中无负权迴路时受太大影响（如果存在负权迴路，就会沿着这个圈圈一直绕以得到「更短」路径）。所以，最短路算法执行之前必须检查图。
</p><p>可以再增加一些条件以确定最短路（比如，如果相同，边少者短）。只要从距离函数中得到比较函数，剩下的问题就一样了。上面的例子中，距离函数就有两个值：权和边数。两个值在必要时都可用於比较。
</p>
<h3><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=11" title="编辑段落：例题">编辑</a>]</span> <span class="mw-headline" id=".E4.BE.8B.E9.A2.98"> 例题 </span></h3>
<h4><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=12" title="编辑段落：图的直径">编辑</a>]</span> <span class="mw-headline" id=".E5.9B.BE.E7.9A.84.E7.9B.B4.E5.BE.84"> 图的直径 </span></h4>
<p>给出：一个无向无权连通图。找出距离最远的两点。
</p><p>分析：找出所有点间最短距离，取其最大。
</p>
<h4><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=13" title="编辑段落：骑士巡游">编辑</a>]</span> <span class="mw-headline" id=".E9.AA.91.E5.A3.AB.E5.B7.A1.E6.B8.B8"> 骑士巡游 </span></h4>
<p>给出：两个 NxN 棋盘。确定骑士从其中一个走到另一个所需最短路径。
</p><p>分析：把棋盘变成一个有 64 个顶点的图，每个顶点最多 8 条边表示一个骑士的移动。
</p>
<h4><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=14" title="编辑段落：奇异穀仓 (简述) [USACO 循环赛 1996]">编辑</a>]</span> <span class="mw-headline" id=".E5.A5.87.E5.BC.82.E7.A9.80.E4.BB.93_.28.E7.AE.80.E8.BF.B0.29_.5BUSACO_.E5.BE.AA.E7.8E.AF.E8.B5.9B_1996.5D"> 奇异穀仓 (简述) [USACO 循环赛 1996] </span></h4>
<p>考虑一个特别的穀仓包含 N 个畜栏 (N &lt; 2500)。每个畜栏都有一个编号。从一个畜栏你可到达另外四个畜栏，但是你不能走回头路。
</p><p>给出畜栏数量和计算相邻关系的式子，找到「最中」畜栏。一个「最中」畜栏是指其到其他畜栏平均距离最小的一个。
</p><p>分析：计算全源最短路以确定平均距离。任何计算全源最短路的 <span class="texhtml" dir="ltr"><i>O</i>(<i>N</i><sup>3</sup>)</span> 算法在 N=2500 时都不可行。然而，这里边很少（每个顶点4条），用队列 BFS 可行。一次 BFS 运行 O(E) 时间，所以计算全源最短路用时 O(VE) ——大约是：
2500 x 10,000 = 2.5E6 次，比 25003 = 1.56E10 好得多。
</p>
<h4><span class="editsection">[<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit&amp;section=15" title="编辑段落：铁路路线 (简述) [USACO 训练赛 1997, 赛 1]">编辑</a>]</span> <span class="mw-headline" id=".E9.93.81.E8.B7.AF.E8.B7.AF.E7.BA.BF_.28.E7.AE.80.E8.BF.B0.29_.5BUSACO_.E8.AE.AD.E7.BB.83.E8.B5.9B_1997.2C_.E8.B5.9B_1.5D"> 铁路路线 (简述) [USACO 训练赛 1997, 赛 1] </span></h4>
<p>农夫约翰决定建造自己的铁路将他的奶牛牧场与镇上的消毒站连起来。农夫约翰的土地按照1*1km^2的格子给出，已知行数和列数（m*n的网格）。
</p><p>建造1km铁路的正常花费是$100，有高度改变的两个格子之间花费$100+3*改变的高度（单位米）。如果铁路的方向在一个格子里改变了45度，花费增加$25；改变90度增加$40。所有其他的变向是不允许的。
</p><p>给出地形图，以及牧场和消毒站的位置，计算最便宜的铁路花费。
</p><p>分析：这几乎是个标准的最短路问题，格子是点铁路是边，除了你进入格子的方向限制了你离开该格的方式。问题是：不可能明确哪些边事先存在（因为路径对边有影响）。
</p><p>题解: 一个格子创造8个顶点，一个顶点对应一个进入方向。现在就可以明确哪些边事先存在了，就是最短路问题。
</p>
<!-- 
NewPP limit report
Preprocessor node count: 151/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key newnocow:pcache:idhash:5318-0!1!*!!zh-cn!*!* and timestamp 20170804105505 -->
</div><div class="printfooter">
来自“<a href="http://www.nocow.cn/index.php?title=Translate:USACO/Shortest_Paths&amp;oldid=30573">http://www.nocow.cn/index.php?title=Translate:USACO/Shortest_Paths&amp;oldid=30573</a>”</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>查看</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-translate" class="selected"><a href="/index.php/Translate:USACO/Shortest_Paths">翻译</a></li>
				<li id="ca-talk"><a href="/index.php/Translate_Talk:USACO/Shortest_Paths" title="关于内容页面的讨论 [t]" accesskey="t">讨论</a></li>
				<li id="ca-edit"><a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=edit" title="你可以编辑本页。请在保存前预览一下。 [e]" accesskey="e">编辑</a></li>
				<li id="ca-history"><a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=history" title="本页面的早前修订版本 [h]" accesskey="h">历史</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>个人工具</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/index.php?title=%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95&amp;returnto=Translate%3AUSACO%2FShortest+Paths" title="我们希望您可以登入，但不强求 [o]" accesskey="o">登录/创建账户</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a title="访问首页" style="background-image: url(/skins/common/images/wiki.png);" href="/index.php/%E9%A6%96%E9%A1%B5"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>导航</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/index.php/%E9%A6%96%E9%A1%B5" title="访问首页 [z]" accesskey="z">首页</a></li>
				<li id="n-portal"><a href="/index.php/NOCOW:%E7%A4%BE%E5%8C%BA%E4%B8%BB%E9%A1%B5" title="关于本项目，你可以做什么，在哪里找到你需要的事物">社区主页</a></li>
				<li id="n-currentevents"><a href="/index.php/NOCOW:NOCOW%E8%BF%91%E6%9C%9F%E5%8F%91%E5%B1%95%E8%AE%A1%E5%88%92" title="查看当前事件的背景信息">当前事件</a></li>
				<li id="n-recentchanges"><a href="/index.php/%E7%89%B9%E6%AE%8A:%E6%9C%80%E8%BF%91%E6%9B%B4%E6%94%B9" title="本wiki的最近更改列表 [r]" accesskey="r">最近更改</a></li>
				<li id="n-randompage"><a href="/index.php/%E7%89%B9%E6%AE%8A:%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2" title="随机进入一个页面 [x]" accesskey="x">随机页面</a></li>
				<li id="n-help"><a href="/index.php/%E5%B8%AE%E5%8A%A9:%E7%9B%AE%E5%BD%95" title="寻求帮助的地方">使用帮助</a></li>
				<li id="n-sitemap-text"><a href="/index.php/NOCOW%E5%9C%B0%E5%9B%BE">NOCOW地图</a></li>
				<li id="n-sandbox-text"><a href="/index.php/NOCOW:%E6%96%B0%E6%89%8B%E8%AF%95%E7%BB%83%E5%9C%BA">新手试练场</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">搜索</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input type='hidden' name="title" value="特殊:搜索"/>
				<input type="search" name="search" title="在NOCOW中搜索 [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="进入" title="如果相同的标题存在的话便直接前往该页面" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="搜索" title="搜索含这些文字的页面" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>工具箱</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/index.php/%E7%89%B9%E6%AE%8A:%E9%93%BE%E5%85%A5%E9%A1%B5%E9%9D%A2/Translate:USACO/Shortest_Paths" title="所有链入本页的wiki页面列表 [j]" accesskey="j">链入页面</a></li>
				<li id="t-recentchangeslinked"><a href="/index.php/%E7%89%B9%E6%AE%8A:%E9%93%BE%E5%87%BA%E6%9B%B4%E6%94%B9/Translate:USACO/Shortest_Paths" title="本页链入的页面的最近更改 [k]" accesskey="k">链出更改</a></li>
				<li id="t-specialpages"><a href="/index.php/%E7%89%B9%E6%AE%8A:%E7%89%B9%E6%AE%8A%E9%A1%B5%E9%9D%A2" title="所有特殊页面列表 [q]" accesskey="q">特殊页面</a></li>
				<li><a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;printable=yes" rel="alternate">可打印版</a></li>
				<li id="t-permalink"><a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;oldid=30573" title="本页面该修订版本的永久链接">永久链接</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-copyrightico">
		<a href="http://www.gnu.org/copyleft/fdl.html"><img src="/skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a>
	</div>
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="viewcount">此页面已被浏览过5,289次。</li>
		<li id="credits">本页面由NOCOW匿名用户<a href="/index.php/%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/54.173.35.129" title="特殊:用户贡献/54.173.35.129">54.173.35.129</a>于2012年3月21日 (星期三) 23:14做出最后修改。 在<a href="/index.php/%E7%94%A8%E6%88%B7:KingFree" title="用户:KingFree">田劲锋</a>、NOCOW用户<a href="/index.php/%E7%94%A8%E6%88%B7:PhoneBot" title="用户:PhoneBot">PhoneBot</a>、NOCOW匿名用户<a href="/index.php/%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/111.78.17.122" title="特殊:用户贡献/111.78.17.122">111.78.17.122</a>和<a href="/index.php/%E7%89%B9%E6%AE%8A:%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/121.237.200.53" title="特殊:用户贡献/121.237.200.53">121.237.200.53</a>和<a href="/index.php?title=Translate:USACO/Shortest_Paths&amp;action=credits" title="Translate:USACO/Shortest Paths">其他</a>的工作基础上。</li>
		<li id="copyright">本站全部文字内容使用<a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>授权。</li>
		<li id="privacy"><a href="/index.php/NOCOW:%E9%9A%90%E7%A7%81%E6%9D%83%E6%94%BF%E7%AD%96" title="NOCOW:隐私权政策">隐私权政策</a></li>
		<li id="about"><a href="/index.php/NOCOW:%E5%85%B3%E4%BA%8E" title="NOCOW:关于">关于NOCOW</a></li>
		<li id="disclaimer"><a href="/index.php/NOCOW:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E" title="NOCOW:免责声明">免责声明</a></li>
		<li id="miibeian"><a href="http://www.miibeian.gov.cn" rel="nofollow">陕ICP备09005692号</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
	mw.loader.load(["mediawiki.user", "mediawiki.util", "mediawiki.page.ready", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
}
</script>
<script src="/load.php?debug=false&amp;lang=zh-cn&amp;modules=site&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
	mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,
	"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"zh-cn","language":"zh-cn","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":true,"searchNs101":false,"searchNs102":true,"searchNs103":false,"searchNs104":false,"searchNs105":false,"searchNs106":true,"searchNs107":false,"searchNs108":true,"searchNs109":false,"searchNs110":true,"searchNs111":false,"searchNs112":true,"searchNs113":false,"searchNs114":true,"searchNs115":true,"searchNs116":true,"searchNs117":false,"searchNs118":true,"searchNs119":false,"searchNs120":true,"searchNs121":false,"searchNs122":true,"searchNs123":false,"searchNs124":true,"searchNs125":false,"searchNs126":true,
	"searchNs127":false});;mw.user.tokens.set({"editToken":"+\\","watchToken":false});;mw.loader.state({"user.options":"ready","user.tokens":"ready"});
	
	/* cache key: newnocow:resourceloader:filter:minify-js:4:9d09b6dc2353a89934e2338dc02930d3 */
}
</script><!-- Served in 0.125 secs. --><!-- google analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-8008676-1");
pageTracker._trackPageview();
} catch(err) {}
</script></body></html>